{% extends "base.html" %}
{% load class_name %}
{#{% load my_tag %}#}
{% block content %}
<html lang="en" >
<head>
<meta charset="utf-8">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script>
$(document).ready(function(){
    $("#myModal").on('shown.bs.modal', function(){
        $(this).find('input[type="text"]').focus();
    });
});
</script>
{#<style>#}
{#    footer {#}
{#        position: fixed;#}
{#        bottom: 0;#}
{#        right: 50%;#}
{#    }#}
{#</style>#}
</head>
<body>
<div class="bs-example">

<div class='row title-row my-5'>
    <div class='col-12 py-0'>
        <h3 class='my-0 py-0'>{{ count }} results for <b>{{ query }}</b></h3>
    </div>
</div>

{% for object in object_list %}
    {% with object|class_name as klass %}

      {% if klass == 'Agency' %}
           <div class='container-fluid'>
            <ul class="list-group">
               <li class="list-group-item">
                   {{ object|class_name }}---<a href='{{ object.get_absolute_url }}'>{{ object.agency_name }} {{ object.agency_type }}</a>
               </li>
            </ul>
           </div>

      {% elif klass == 'Contact' %}
          <div class="container-fluid">
            <ul class="list-group">
                <li class='list-group-item'>
                   {{ object|class_name }}---<a href='{{ object.get_absolute_url }}'>{{ object.first_name }} / {{ object.com }}</a>
                </li>
            </ul>
           </div>
      {% elif klass == 'Image' %}
          <div class="container-fluid">
            <ul class="list-group">
              <li class="list-group-item">
                   {{ object|class_name }}---<a href='{{ object.get_absolute_url }}'>{{ object.name }} / {{ object.notes }} / {{ object.equip_number }}</a>
              </li>
            </ul>
          </div>
      {% elif klass == 'Employee' %}
          <div class="container-fluid">
            <ul class="list-group">
                <li class="list-group-item">
                   {{ object|class_name }}---<a href='{{ object.get_absolute_url }}'>{{ object.first_name }} {{ object.last_name }} / {{ object.company }}</a>
                </li>
            </ul>
          </div>
      {% elif klass == 'Company' %}
          <div class="container-fluid">
            <ul class="list-group">
                <li class="list-group-item">
                   {{ object|class_name }}---<a href='{{ object.get_absolute_url }}'>{{ object.name }}</a>
                </li>
            </ul>
          </div>
      {% elif klass == 'Vehicle' %}
          <div class="container-fluid">
            <ul class="list-group">
                <li class="list-group-item">
                   {{ object|class_name }}---<a href='{{ object.get_absolute_url }}'>{{ object.equip_number }} / {{ object.equip_name }} / {{ object.equip_driver }}</a>
                </li>
            </ul>
          </div>
      {% elif klass == 'Permit' %}
          <div class="container-fluid">
            <ul class="list-group">
                <li class="list-group-item">
                   {{ object|class_name }}---<a href='{{ object.get_absolute_url }}'>{{ object.permit_cn }} / {{ object.agency }}</a>
          </div>
      {% elif klass == 'Insurance' %}
          <div class="container-fluid">
            <ul class="list-group">
                <li class="list-group-item">
                   {{ object|class_name }}---<a href='{{ object.get_absolute_url }}'>{{ object.company }}</a>
                </li>
            </ul>
          </div>
      {% elif klass == 'Document' %}
          <div class="container-fluid">
            <ul class="list-group">
                <li class="list-group-item">
                   {{ object|class_name }}---<a href='{{ object.get_absolute_url }}'>{{ object.company }}</a>
                </li>
            </ul>
          </div>
      {% else %}
           <div class='row'>
             <div class='col-12 col-lg-8 offset-lg-4'>
                <a href='{{ object.get_absolute_url }}'>{{ object }} | {{ object|class_name }}</a>
            </div>
           </div>
      {% endif %}

    {% endwith %}
{% empty %}
{% endfor %}
{% include 'pagination.html' %}
{#<footer>#}
{#<!-- FILTERED Pagination -->#}
{#<div class="d-flex flex-column m-auto pagination mt-5">#}
{#<nav aria-label="Page navigation">#}
{#<ul class="pagination pg-grey justify-content-center">#}
{#	{% if page_obj.has_previous %}#}
{#        <li class="page-item">#}
{#		  <a class="page-link" href="?{% if query %}q={{query}}&{% endif %}page={{ page_obj.previous_page_number }}">&laquo; Previous</a>#}
{#		</li>#}
{#    {% endif %}#}
{##}
{#	{% for i in page_obj.paginator.page_range %}#}
{#		{% if page_obj.number == i %}#}
{#			<li class="page-item active"><a class="page-link">{{ i }}</a></li>#}
{#		{% else %}#}
{#			<li class="page-item" ><a class="page-link" href="?{% if query %}q={{query}}&{% endif %}page={{ i }}">{{ i }}</a></li>#}
{#		{% endif %}#}
{#	{% endfor %}#}
{##}
{#    {% if page_obj.has_next %}#}
{#    	<li class="page-item">#}
{#		  <a class="page-link" href="?{% if query %}q={{query}}&{% endif %}page={{ page_obj.next_page_number }}">Next</a>#}
{#		</li>#}
{#		<li class="page-item">#}
{#		  <a class="page-link"  href="?{% if query %}q={{query}}&{% endif %}page={{ page_obj.paginator.num_pages }}">Last &raquo;</a>#}
{#		</li>#}
{#    {% endif %}#}
{#</ul>#}
{#</nav>#}
{#</div>#}
{#<!-- end pagination-->#}
{#</footer>#}
{% endblock content %}